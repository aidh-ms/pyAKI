
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../preprocessors/">
      
      
        <link rel="next" href="../utils/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>probes - pyAKI</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../assets/css/code_select.css">
    
      <link rel="stylesheet" href="../../../assets/css/fonts.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pyaki.probes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="pyAKI" class="md-header__button md-logo" aria-label="pyAKI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyAKI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              probes
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting_started/overview/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guide/tutorial/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="pyAKI" class="md-nav__button md-logo" aria-label="pyAKI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    pyAKI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/basic_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/citing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Citing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/probes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Probes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    pyaki
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            pyaki
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../bin/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    bin
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            bin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bin/process_aki_stages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    process_aki_stages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kdigo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kdigo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preprocessors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    preprocessors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    probes
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    probes
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes" class="md-nav__link">
    <span class="md-ellipsis">
      probes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.AbsoluteCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      AbsoluteCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbsoluteCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.AbsoluteCreatinineProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.AbstractCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.AbstractCreatinineProbe.creatinine_baseline" class="md-nav__link">
    <span class="md-ellipsis">
      creatinine_baseline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.CreatinineBaselineMethod" class="md-nav__link">
    <span class="md-ellipsis">
      CreatinineBaselineMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.Probe" class="md-nav__link">
    <span class="md-ellipsis">
      Probe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.Probe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.RRTProbe" class="md-nav__link">
    <span class="md-ellipsis">
      RRTProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RRTProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.RRTProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.RelativeCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      RelativeCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RelativeCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.RelativeCreatinineProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputMethod" class="md-nav__link">
    <span class="md-ellipsis">
      UrineOutputMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputProbe" class="md-nav__link">
    <span class="md-ellipsis">
      UrineOutputProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UrineOutputProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes" class="md-nav__link">
    <span class="md-ellipsis">
      probes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.AbsoluteCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      AbsoluteCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbsoluteCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.AbsoluteCreatinineProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.AbstractCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.AbstractCreatinineProbe.creatinine_baseline" class="md-nav__link">
    <span class="md-ellipsis">
      creatinine_baseline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.CreatinineBaselineMethod" class="md-nav__link">
    <span class="md-ellipsis">
      CreatinineBaselineMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.Probe" class="md-nav__link">
    <span class="md-ellipsis">
      Probe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.Probe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.RRTProbe" class="md-nav__link">
    <span class="md-ellipsis">
      RRTProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RRTProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.RRTProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.RelativeCreatinineProbe" class="md-nav__link">
    <span class="md-ellipsis">
      RelativeCreatinineProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RelativeCreatinineProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.RelativeCreatinineProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputMethod" class="md-nav__link">
    <span class="md-ellipsis">
      UrineOutputMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputProbe" class="md-nav__link">
    <span class="md-ellipsis">
      UrineOutputProbe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UrineOutputProbe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyaki.probes.UrineOutputProbe.probe" class="md-nav__link">
    <span class="md-ellipsis">
      probe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>probes</h1>

<div class="doc doc-object doc-module">



<a id="pyaki.probes"></a>
    <div class="doc doc-contents first">

        <p>This module contains the Probe abstract base class and its subclasses,
used for probing for the different KDIGO criteria.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.AbsoluteCreatinineProbe" class="doc doc-heading">
            <code>AbsoluteCreatinineProbe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AbstractCreatinineProbe (pyaki.probes.AbstractCreatinineProbe)" href="#pyaki.probes.AbstractCreatinineProbe">AbstractCreatinineProbe</a></code></p>


        <p>Probe class for absolute creatinine criterion, according to KDIGO criteria.</p>
<p>This class represents a probe that calculates AKI stages according to absolute rises in creatinine, according to the KDIGO criteria.
It extends the <code>AbstractCreCreatinineProbe</code> class.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.AbsoluteCreatinineProbe.RESNAME">RESNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the resulting stage column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing creatinine values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;creat&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_constant_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing constant baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;baseline_constant&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_weight_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's weight.</p>
              </div>
            </td>
            <td>
                  <code>&#34;weight&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_age_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's age.</p>
              </div>
            </td>
            <td>
                  <code>&#34;age&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_height_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's height.</p>
              </div>
            </td>
            <td>
                  <code>&#34;height&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_gender_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's gender.</p>
              </div>
            </td>
            <td>
                  <code>&#34;gender&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_timeframe</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeframe for calculating the baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;2d&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expected_clearance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected creatinine clearance rate.</p>
              </div>
            </td>
            <td>
                  <code>72</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CreatinineBaselineMethod (pyaki.probes.CreatinineBaselineMethod)" href="#pyaki.probes.CreatinineBaselineMethod">CreatinineBaselineMethod</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method for calculating the creatinine baseline values.</p>
              </div>
            </td>
            <td>
                  <code>CreatinineBaselineMethod.ROLLING_MIN</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-pycon highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">AbsoluteCreatinineProbe</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;creatinine&quot;</span><span class="p">,</span> <span class="n">baseline_timeframe</span><span class="o">=</span><span class="s2">&quot;7d&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">CreatinineMethod</span><span class="o">.</span><span class="n">MIN</span><span class="p">)</span>
<span class="gp">... </span><span class="n">df_result</span> <span class="o">=</span> <span class="n">probe</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>






              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AbsoluteCreatinineProbe</span><span class="p">(</span><span class="n">AbstractCreatinineProbe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Probe class for absolute creatinine criterion, according to KDIGO criteria.</span>

<span class="sd">    This class represents a probe that calculates AKI stages according to absolute rises in creatinine, according to the KDIGO criteria.</span>
<span class="sd">    It extends the `AbstractCreCreatinineProbe` class.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    RESNAME : str</span>
<span class="sd">        The name of the resulting stage column.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    column : str, default: &quot;creat&quot;</span>
<span class="sd">        The name of the column containing creatinine values.</span>
<span class="sd">    baseline_constant_column : str, default: &quot;baseline_constant&quot;</span>
<span class="sd">        The name of the column containing constant baseline values.</span>
<span class="sd">    patient_weight_column : str, default: &quot;weight&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s weight.</span>
<span class="sd">    patient_age_column : str, default: &quot;age&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s age.</span>
<span class="sd">    patient_height_column : str, default: &quot;height&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s height.</span>
<span class="sd">    patient_gender_column : str, default: &quot;gender&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s gender.</span>
<span class="sd">    baseline_timeframe : str, default: &quot;2d&quot;</span>
<span class="sd">        The timeframe for calculating the baseline values.</span>
<span class="sd">    expected_clearance : float, default: 72</span>
<span class="sd">        The expected creatinine clearance rate.</span>
<span class="sd">    method : CreatinineBaselineMethod, default: CreatinineBaselineMethod.ROLLING_MIN</span>
<span class="sd">        The method for calculating the creatinine baseline values.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```pycon</span>
<span class="sd">    &gt;&gt;&gt; probe = AbsoluteCreatinineProbe(column=&quot;creatinine&quot;, baseline_timeframe=&quot;7d&quot;, method=CreatinineMethod.MIN)</span>
<span class="sd">    ... df_result = probe.probe(df)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RESNAME</span> <span class="o">=</span> <span class="s2">&quot;abs_creatinine_stage&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;creat&quot;</span><span class="p">,</span>
        <span class="n">baseline_constant_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;baseline_constant&quot;</span><span class="p">,</span>
        <span class="n">patient_weight_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>
        <span class="n">patient_age_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span>
        <span class="n">patient_height_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;height&quot;</span><span class="p">,</span>
        <span class="n">patient_gender_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;gender&quot;</span><span class="p">,</span>
        <span class="n">baseline_timeframe</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;2d&quot;</span><span class="p">,</span>
        <span class="n">expected_clearance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">72</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="n">CreatinineBaselineMethod</span> <span class="o">=</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MIN</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span>
            <span class="n">baseline_constant_column</span><span class="o">=</span><span class="n">baseline_constant_column</span><span class="p">,</span>
            <span class="n">patient_weight_column</span><span class="o">=</span><span class="n">patient_weight_column</span><span class="p">,</span>
            <span class="n">patient_age_column</span><span class="o">=</span><span class="n">patient_age_column</span><span class="p">,</span>
            <span class="n">patient_height_column</span><span class="o">=</span><span class="n">patient_height_column</span><span class="p">,</span>
            <span class="n">patient_gender_column</span><span class="o">=</span><span class="n">patient_gender_column</span><span class="p">,</span>
            <span class="n">baseline_timeframe</span><span class="o">=</span><span class="n">baseline_timeframe</span><span class="p">,</span>
            <span class="n">expected_clearance</span><span class="o">=</span><span class="n">expected_clearance</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
    <span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform KDIGO stage calculation based on absolute creatinine elevations on the provided DataFrame.</span>

<span class="sd">        This method calculates the KDIGO stage based on the provided DataFrame</span>
<span class="sd">        and the configured baseline values. It calculates the stage according to KDIGO criteria.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame containing the creatinine data. It should have a column</span>
<span class="sd">            with the name specified in the `column` attribute of the probe.</span>
<span class="sd">        patient : pd.DataFrame</span>
<span class="sd">            The DataFrame containing patient information. Should contain the patients weight in kg and the age.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            The modified DataFrame with the absolute creatinine stage column added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">baseline_values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">creatinine_baseline</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">)</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">-</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mf">0.3</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">],</span> <span class="mi">4</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

        <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.AbsoluteCreatinineProbe.probe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Perform KDIGO stage calculation based on absolute creatinine elevations on the provided DataFrame.</p>
<p>This method calculates the KDIGO stage based on the provided DataFrame
and the configured baseline values. It calculates the stage according to KDIGO criteria.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the creatinine data. It should have a column
with the name specified in the <code>column</code> attribute of the probe.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing patient information. Should contain the patients weight in kg and the age.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The modified DataFrame with the absolute creatinine stage column added.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
<span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform KDIGO stage calculation based on absolute creatinine elevations on the provided DataFrame.</span>

<span class="sd">    This method calculates the KDIGO stage based on the provided DataFrame</span>
<span class="sd">    and the configured baseline values. It calculates the stage according to KDIGO criteria.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame</span>
<span class="sd">        The DataFrame containing the creatinine data. It should have a column</span>
<span class="sd">        with the name specified in the `column` attribute of the probe.</span>
<span class="sd">    patient : pd.DataFrame</span>
<span class="sd">        The DataFrame containing patient information. Should contain the patients weight in kg and the age.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        The modified DataFrame with the absolute creatinine stage column added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">baseline_values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">creatinine_baseline</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">-</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mf">0.3</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">],</span> <span class="mi">4</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.AbstractCreatinineProbe" class="doc doc-heading">
            <code>AbstractCreatinineProbe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Probe (pyaki.probes.Probe)" href="#pyaki.probes.Probe">Probe</a></code></p>


        <p>Abstract base class representing a creatinine probe.</p>
<p>This class serves as an abstract base class for creatinine probes.
It extends the <code>Probe</code> class and provides common functionality and attributes
for creatinine probe implementations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing creatinine values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;creat&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_constant_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing constant baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;baseline_constant&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_weight_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's weight.</p>
              </div>
            </td>
            <td>
                  <code>&#34;weight&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_age_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's age.</p>
              </div>
            </td>
            <td>
                  <code>&#34;age&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_height_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's height.</p>
              </div>
            </td>
            <td>
                  <code>&#34;height&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_gender_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's gender.</p>
              </div>
            </td>
            <td>
                  <code>&#34;gender&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_timeframe</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeframe for calculating the baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;7d&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expected_clearance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected creatinine clearance rate.</p>
              </div>
            </td>
            <td>
                  <code>72</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CreatinineBaselineMethod (pyaki.probes.CreatinineBaselineMethod)" href="#pyaki.probes.CreatinineBaselineMethod">CreatinineBaselineMethod</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method for calculating the creatinine baseline values.</p>
              </div>
            </td>
            <td>
                  <code>CreatinineBaselineMethod.ROLLING_MIN</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-pycon highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyCreatinineProbe</span><span class="p">(</span><span class="n">AbstractCreCreatinineProbe</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;creatinine&quot;</span><span class="p">,</span> <span class="n">baseline_timeframe</span><span class="o">=</span><span class="s2">&quot;7d&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">MIN</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">baseline_timeframe</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
<span class="gp">... </span>        <span class="c1"># Additional initialization</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># Probe implementation specific to the derived class</span>
</code></pre></div></td></tr></table></div>
</details>






              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AbstractCreatinineProbe</span><span class="p">(</span><span class="n">Probe</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract base class representing a creatinine probe.</span>

<span class="sd">    This class serves as an abstract base class for creatinine probes.</span>
<span class="sd">    It extends the `Probe` class and provides common functionality and attributes</span>
<span class="sd">    for creatinine probe implementations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    column : str, default: &quot;creat&quot;</span>
<span class="sd">        The name of the column containing creatinine values.</span>
<span class="sd">    baseline_constant_column : str, default: &quot;baseline_constant&quot;</span>
<span class="sd">        The name of the column containing constant baseline values.</span>
<span class="sd">    patient_weight_column : str, default: &quot;weight&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s weight.</span>
<span class="sd">    patient_age_column : str, default: &quot;age&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s age.</span>
<span class="sd">    patient_height_column : str, default: &quot;height&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s height.</span>
<span class="sd">    patient_gender_column : str, default: &quot;gender&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s gender.</span>
<span class="sd">    baseline_timeframe : str, default: &quot;7d&quot;</span>
<span class="sd">        The timeframe for calculating the baseline values.</span>
<span class="sd">    expected_clearance : float, default: 72</span>
<span class="sd">        The expected creatinine clearance rate.</span>
<span class="sd">    method : CreatinineBaselineMethod, default: CreatinineBaselineMethod.ROLLING_MIN</span>
<span class="sd">        The method for calculating the creatinine baseline values.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```pycon</span>
<span class="sd">    &gt;&gt;&gt; class MyCreatinineProbe(AbstractCreCreatinineProbe):</span>
<span class="sd">    ...     def __init__(self, column=&quot;creatinine&quot;, baseline_timeframe=&quot;7d&quot;, method=CreatinineBaselineMethod.MIN):</span>
<span class="sd">    ...         super().__init__(column, baseline_timeframe, method)</span>
<span class="sd">    ...         # Additional initialization</span>
<span class="sd">    ...</span>
<span class="sd">    ...     def probe(self, df, **kwargs):</span>
<span class="sd">    ...         # Probe implementation specific to the derived class</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;creat&quot;</span><span class="p">,</span>
        <span class="n">baseline_constant_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;baseline_constant&quot;</span><span class="p">,</span>
        <span class="n">patient_weight_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>
        <span class="n">patient_age_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span>
        <span class="n">patient_height_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;height&quot;</span><span class="p">,</span>
        <span class="n">patient_gender_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;gender&quot;</span><span class="p">,</span>
        <span class="n">baseline_timeframe</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;7d&quot;</span><span class="p">,</span>
        <span class="n">expected_clearance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">72</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="n">CreatinineBaselineMethod</span> <span class="o">=</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MIN</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_baseline_constant_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">baseline_constant_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">patient_weight_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_patient_age_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">patient_age_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_patient_height_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">patient_height_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_patient_gender_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">patient_gender_column</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">baseline_timeframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_expected_clearance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">expected_clearance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_method</span><span class="p">:</span> <span class="n">CreatinineBaselineMethod</span> <span class="o">=</span> <span class="n">method</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">creatinine_baseline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the creatinine baseline values.</span>

<span class="sd">        This method calculates the creatinine baseline values based on the configured</span>
<span class="sd">        parameters and the provided DataFrame.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame containing the creatinine data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.Series</span>
<span class="sd">            The calculated creatinine baseline values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
            <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_FIRST</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
                <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
                <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rows</span><span class="p">:</span> <span class="n">rows</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">first</span><span class="p">()</span>
                <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MIN</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
                <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
                <span class="o">.</span><span class="n">min</span><span class="p">()</span>
                <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">min</span><span class="p">()</span>
                <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MEAN</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
                <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
                <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
                <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
                <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">FIXED_MIN</span><span class="p">:</span>
            <span class="n">values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
                <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
                <span class="o">.</span><span class="n">min</span><span class="p">()</span>
                <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">min</span><span class="p">()</span>
                <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">min_value</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span>
                <span class="n">values</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">))</span>
            <span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>  <span class="c1"># calculate min value for first 7 days</span>
            <span class="n">values</span><span class="p">[</span>
                <span class="n">values</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">))</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">min_value</span>  <span class="c1"># set all values after first 7 days to min value</span>

            <span class="k">return</span> <span class="n">values</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">FIXED_MEAN</span><span class="p">:</span>
            <span class="n">time_delta</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
            <span class="n">end_time</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">time_delta</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="n">end_time</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_FIRST</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_MIN</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_MEAN</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">CONSTANT</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_baseline_constant_column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Baseline constant method requires baseline constant values. Please provide a pd.Series containing baseline values for creatinine.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="p">[</span><span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_constant_column</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span>
                <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">CALCULATED</span><span class="p">:</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_patient_age_column</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_patient_height_column</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_patient_gender_column</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Calculated baseline method requires patient </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">. Please provide a pd.Series containing patient </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="p">)</span>

            <span class="n">weight</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">]</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_height_column</span><span class="p">]</span>
            <span class="n">gender</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_gender_column</span><span class="p">]</span>
            <span class="n">age</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_age_column</span><span class="p">]</span>

            <span class="n">ibw</span> <span class="o">=</span> <span class="p">(</span><span class="mf">50.0</span> <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span> <span class="k">else</span> <span class="mf">45.5</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2.3</span> <span class="o">*</span> <span class="n">height</span> <span class="o">/</span> <span class="mf">2.54</span> <span class="o">-</span> <span class="mi">60</span>
            <span class="n">abw</span> <span class="o">=</span> <span class="n">ibw</span> <span class="o">+</span> <span class="mf">0.4</span> <span class="o">*</span> <span class="p">(</span><span class="n">weight</span> <span class="o">-</span> <span class="n">ibw</span><span class="p">)</span>

            <span class="c1"># fmt: off</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="p">((</span><span class="mi">140</span> <span class="o">-</span> <span class="n">age</span><span class="p">)</span> <span class="o">*</span> <span class="n">abw</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span> <span class="k">else</span> <span class="mf">0.85</span><span class="p">))</span> <span class="o">/</span>
                    <span class="p">(</span><span class="mi">70</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expected_clearance</span><span class="p">)</span>
                <span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span>
                <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># fmt: on</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_to_df_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper function to create a series, the same length as the data frame.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame to match the length of.</span>
<span class="sd">        value : float</span>
<span class="sd">            The value to fill the series with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.Series</span>
<span class="sd">            The series with the same length as the DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span>
            <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.AbstractCreatinineProbe.creatinine_baseline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">creatinine_baseline</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the creatinine baseline values.</p>
<p>This method calculates the creatinine baseline values based on the configured
parameters and the provided DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the creatinine data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The calculated creatinine baseline values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">creatinine_baseline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the creatinine baseline values.</span>

<span class="sd">    This method calculates the creatinine baseline values based on the configured</span>
<span class="sd">    parameters and the provided DataFrame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame</span>
<span class="sd">        The DataFrame containing the creatinine data.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.Series</span>
<span class="sd">        The calculated creatinine baseline values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_FIRST</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
            <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rows</span><span class="p">:</span> <span class="n">rows</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MIN</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
            <span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">ROLLING_MEAN</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">FIXED_MIN</span><span class="p">:</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
            <span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">min</span><span class="p">()</span>
            <span class="o">.</span><span class="n">ffill</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span>
            <span class="n">values</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">))</span>
        <span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>  <span class="c1"># calculate min value for first 7 days</span>
        <span class="n">values</span><span class="p">[</span>
            <span class="n">values</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">))</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">min_value</span>  <span class="c1"># set all values after first 7 days to min value</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">FIXED_MEAN</span><span class="p">:</span>
        <span class="n">time_delta</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_timedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_timeframe</span><span class="p">)</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">time_delta</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="n">end_time</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_FIRST</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_MIN</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">OVERALL_MEAN</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_df_length</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">CONSTANT</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_baseline_constant_column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Baseline constant method requires baseline constant values. Please provide a pd.Series containing baseline values for creatinine.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="p">[</span><span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_baseline_constant_column</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span>
            <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">CALCULATED</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_patient_age_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_patient_height_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_patient_gender_column</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Calculated baseline method requires patient </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">. Please provide a pd.Series containing patient </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

        <span class="n">weight</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">]</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_height_column</span><span class="p">]</span>
        <span class="n">gender</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_gender_column</span><span class="p">]</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_age_column</span><span class="p">]</span>

        <span class="n">ibw</span> <span class="o">=</span> <span class="p">(</span><span class="mf">50.0</span> <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span> <span class="k">else</span> <span class="mf">45.5</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2.3</span> <span class="o">*</span> <span class="n">height</span> <span class="o">/</span> <span class="mf">2.54</span> <span class="o">-</span> <span class="mi">60</span>
        <span class="n">abw</span> <span class="o">=</span> <span class="n">ibw</span> <span class="o">+</span> <span class="mf">0.4</span> <span class="o">*</span> <span class="p">(</span><span class="n">weight</span> <span class="o">-</span> <span class="n">ibw</span><span class="p">)</span>

        <span class="c1"># fmt: off</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="p">((</span><span class="mi">140</span> <span class="o">-</span> <span class="n">age</span><span class="p">)</span> <span class="o">*</span> <span class="n">abw</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span> <span class="k">else</span> <span class="mf">0.85</span><span class="p">))</span> <span class="o">/</span>
                <span class="p">(</span><span class="mi">70</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expected_clearance</span><span class="p">)</span>
            <span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span>
            <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.CreatinineBaselineMethod" class="doc doc-heading">
            <code>CreatinineBaselineMethod</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.StrEnum">StrEnum</span></code></p>


        <p>Enumeration class representing different methods for creatinine baseline calculations.</p>
<p>This class defines the available methods for calculating creatinine values.
It is a subclass of the <code>StrEnum</code> class, which is a string-based enumeration.
The available methods are <code>MIN</code> and <code>FIRST</code>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.ROLLING_MIN">ROLLING_MIN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum of a rolling window following the timepoint of observation is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.ROLLING_FIRST">ROLLING_FIRST</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First value of a rolling window following the timepoint of observation is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.ROLLING_MEAN">ROLLING_MEAN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mean of a rolling window following the timepoint of observation is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.FIXED_MIN">FIXED_MIN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum of the first n days of observation is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.FIXED_MEAN">FIXED_MEAN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mean of the first n days of observation is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.OVERALL_FIRST">OVERALL_FIRST</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First observed value is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.OVERALL_MEAN">OVERALL_MEAN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mean of all observed values is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.OVERALL_MIN">OVERALL_MIN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum of all observed values is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.CONSTANT">CONSTANT</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A constant value is used as baseline.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.CreatinineBaselineMethod.CALCULATED">CALCULATED</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A calculated value is used as baseline, based off of the Cockcroft-Gault-Formula using the Adjusted Body Weight.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CreatinineBaselineMethod</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumeration class representing different methods for creatinine baseline calculations.</span>

<span class="sd">    This class defines the available methods for calculating creatinine values.</span>
<span class="sd">    It is a subclass of the `StrEnum` class, which is a string-based enumeration.</span>
<span class="sd">    The available methods are `MIN` and `FIRST`.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    ROLLING_MIN : str</span>
<span class="sd">        Minimum of a rolling window following the timepoint of observation is used as baseline.</span>
<span class="sd">    ROLLING_FIRST : str</span>
<span class="sd">        First value of a rolling window following the timepoint of observation is used as baseline.</span>
<span class="sd">    ROLLING_MEAN : str</span>
<span class="sd">        Mean of a rolling window following the timepoint of observation is used as baseline.</span>
<span class="sd">    FIXED_MIN : str</span>
<span class="sd">        Minimum of the first n days of observation is used as baseline.</span>
<span class="sd">    FIXED_MEAN : str</span>
<span class="sd">        Mean of the first n days of observation is used as baseline.</span>
<span class="sd">    OVERALL_FIRST : str</span>
<span class="sd">        First observed value is used as baseline.</span>
<span class="sd">    OVERALL_MEAN : str</span>
<span class="sd">        Mean of all observed values is used as baseline.</span>
<span class="sd">    OVERALL_MIN : str</span>
<span class="sd">        Minimum of all observed values is used as baseline.</span>
<span class="sd">    CONSTANT : str</span>
<span class="sd">        A constant value is used as baseline.</span>
<span class="sd">    CALCULATED : str</span>
<span class="sd">        A calculated value is used as baseline, based off of the Cockcroft-Gault-Formula using the Adjusted Body Weight.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ROLLING_MIN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ROLLING_FIRST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ROLLING_MEAN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FIXED_MIN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FIXED_MEAN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OVERALL_FIRST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OVERALL_MEAN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OVERALL_MIN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CONSTANT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CALCULATED</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.Probe" class="doc doc-heading">
            <code>Probe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract base class representing a data analysis probe.</p>
<p>This class serves as an abstract base class (ABC) for data analysis probes.
It declares the abstract method <code>probe()</code> that must be implemented by its subclasses.
The <code>RESNAME</code> attribute can be overridden by subclasses to specify the name of the
result column generated by the probe.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.Probe.RESNAME">RESNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the result column generated by the probe.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="probe(datasets, **kwargs) (pyaki.probes.Probe.probe)" href="#pyaki.probes.Probe.probe">probe</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Abstract method to be implemented by subclasses. It performs data analysis on the
provided datasets and returns a DataFrame with the analysis results.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-pycon highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyProbe</span><span class="p">(</span><span class="n">Probe</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">RESNAME</span> <span class="o">=</span> <span class="s2">&quot;my_result&quot;</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dataset</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="gp">... </span>        <span class="c1"># Implementation of the probe&#39;s analysis...</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="n">my_probe</span> <span class="o">=</span> <span class="n">MyProbe</span><span class="p">()</span>
<span class="gp">... </span><span class="n">result_df</span> <span class="o">=</span> <span class="n">my_probe</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">datasets</span><span class="o">=</span><span class="n">my_datasets</span><span class="p">,</span> <span class="n">additional_arg</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>






              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Probe</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract base class representing a data analysis probe.</span>

<span class="sd">    This class serves as an abstract base class (ABC) for data analysis probes.</span>
<span class="sd">    It declares the abstract method `probe()` that must be implemented by its subclasses.</span>
<span class="sd">    The `RESNAME` attribute can be overridden by subclasses to specify the name of the</span>
<span class="sd">    result column generated by the probe.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    RESNAME : str</span>
<span class="sd">        The name of the result column generated by the probe.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    probe()</span>
<span class="sd">        Abstract method to be implemented by subclasses. It performs data analysis on the</span>
<span class="sd">        provided datasets and returns a DataFrame with the analysis results.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```pycon</span>
<span class="sd">    &gt;&gt;&gt; class MyProbe(Probe):</span>
<span class="sd">    ...     RESNAME = &quot;my_result&quot;</span>
<span class="sd">    ...</span>
<span class="sd">    ...     def probe(self, datasets: list[Dataset], **kwargs) -&gt; pd.DataFrame:</span>
<span class="sd">    ...         # Implementation of the probe&#39;s analysis...</span>
<span class="sd">    ...</span>
<span class="sd">    ... my_probe = MyProbe()</span>
<span class="sd">    ... result_df = my_probe.probe(datasets=my_datasets, additional_arg=value)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RESNAME</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># name of the column that will be added to the dataframe</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dataset</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Abstract method to be implemented by subclasses.</span>

<span class="sd">        This method performs data analysis on the provided datasets and returns a DataFrame</span>
<span class="sd">        with the analysis results. Subclasses must override this method.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        datasets : list[Dataset]</span>
<span class="sd">            A list of Dataset objects containing the input data.</span>
<span class="sd">        **kwargs</span>
<span class="sd">            Additional keyword arguments for the analysis.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            The DataFrame containing the analysis results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.Probe.probe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">probe</span><span class="p">(</span><span class="n">datasets</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Abstract method to be implemented by subclasses.</p>
<p>This method performs data analysis on the provided datasets and returns a DataFrame
with the analysis results. Subclasses must override this method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>datasets</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Dataset (pyaki.utils.Dataset)" href="../utils/#pyaki.utils.Dataset">Dataset</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of Dataset objects containing the input data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments for the analysis.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the analysis results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dataset</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dataset</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract method to be implemented by subclasses.</span>

<span class="sd">    This method performs data analysis on the provided datasets and returns a DataFrame</span>
<span class="sd">    with the analysis results. Subclasses must override this method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    datasets : list[Dataset]</span>
<span class="sd">        A list of Dataset objects containing the input data.</span>
<span class="sd">    **kwargs</span>
<span class="sd">        Additional keyword arguments for the analysis.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        The DataFrame containing the analysis results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.RRTProbe" class="doc doc-heading">
            <code>RRTProbe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Probe (pyaki.probes.Probe)" href="#pyaki.probes.Probe">Probe</a></code></p>


        <p>Probe class for RRT.</p>
<p>This class represents a probe that calculates RRT. It will return a KDIGO stage 3 if the patient is on RRT at any time during the ICU stay. It will return 0 otherwise.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.RRTProbe.RESNAME">RESNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the resulting stage column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the RRT data.</p>
              </div>
            </td>
            <td>
                  <code>&#34;rrt_status&#34;</code>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RRTProbe</span><span class="p">(</span><span class="n">Probe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Probe class for RRT.</span>

<span class="sd">    This class represents a probe that calculates RRT. It will return a KDIGO stage 3 if the patient is on RRT at any time during the ICU stay. It will return 0 otherwise.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    RESNAME : str</span>
<span class="sd">        The name of the resulting stage column.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    column : str, default: &quot;rrt_status&quot;</span>
<span class="sd">        The name of the column containing the RRT data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RESNAME</span> <span class="o">=</span> <span class="s2">&quot;rrt_stage&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rrt_status&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">column</span>

    <span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">RRT</span><span class="p">)</span>
    <span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">RRT</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform calculation of RRT on the provided DataFrame.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame containing the RRT data. It should have a column</span>
<span class="sd">            with the name specified in the `column` attribute of the probe.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            The modified DataFrame with the RRT stage column added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="c1"># transfer nans</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

        <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.RRTProbe.probe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Perform calculation of RRT on the provided DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the RRT data. It should have a column
with the name specified in the <code>column</code> attribute of the probe.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The modified DataFrame with the RRT stage column added.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">RRT</span><span class="p">)</span>
<span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">RRT</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform calculation of RRT on the provided DataFrame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame</span>
<span class="sd">        The DataFrame containing the RRT data. It should have a column</span>
<span class="sd">        with the name specified in the `column` attribute of the probe.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        The modified DataFrame with the RRT stage column added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="c1"># transfer nans</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.RelativeCreatinineProbe" class="doc doc-heading">
            <code>RelativeCreatinineProbe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AbstractCreatinineProbe (pyaki.probes.AbstractCreatinineProbe)" href="#pyaki.probes.AbstractCreatinineProbe">AbstractCreatinineProbe</a></code></p>


        <p>Probe class for relative creatinine measurements.</p>
<p>This class represents a probe calculates KDIGO stages based on relative creatinine elevations.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.RelativeCreatinineProbe.RESNAME">RESNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the resulting stage column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing creatinine values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;creat&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_constant_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing constant baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;baseline_constant&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_weight_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's weight.</p>
              </div>
            </td>
            <td>
                  <code>&#34;weight&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_age_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's age.</p>
              </div>
            </td>
            <td>
                  <code>&#34;age&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_height_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's height.</p>
              </div>
            </td>
            <td>
                  <code>&#34;height&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_gender_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the patient's gender.</p>
              </div>
            </td>
            <td>
                  <code>&#34;gender&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_timeframe</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeframe for calculating the baseline values.</p>
              </div>
            </td>
            <td>
                  <code>&#34;7d&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expected_clearance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected creatinine clearance rate.</p>
              </div>
            </td>
            <td>
                  <code>72</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CreatinineBaselineMethod (pyaki.probes.CreatinineBaselineMethod)" href="#pyaki.probes.CreatinineBaselineMethod">CreatinineBaselineMethod</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method for calculating the creatinine baseline values.</p>
              </div>
            </td>
            <td>
                  <code>CreatinineBaselineMethod.ROLLING_MIN</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-pycon highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">RelativeCreatinineProbe</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;creatinine&quot;</span><span class="p">,</span> <span class="n">baseline_timeframe</span><span class="o">=</span><span class="s2">&quot;7d&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">CreatinineBaselineMethod</span><span class="o">.</span><span class="n">MIN</span><span class="p">)</span>
<span class="gp">... </span><span class="n">df_result</span> <span class="o">=</span> <span class="n">probe</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>






              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RelativeCreatinineProbe</span><span class="p">(</span><span class="n">AbstractCreatinineProbe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Probe class for relative creatinine measurements.</span>

<span class="sd">    This class represents a probe calculates KDIGO stages based on relative creatinine elevations.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    RESNAME : str</span>
<span class="sd">        The name of the resulting stage column.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    column : str, default: &quot;creat&quot;</span>
<span class="sd">        The name of the column containing creatinine values.</span>
<span class="sd">    baseline_constant_column : str, default: &quot;baseline_constant&quot;</span>
<span class="sd">        The name of the column containing constant baseline values.</span>
<span class="sd">    patient_weight_column : str, default: &quot;weight&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s weight.</span>
<span class="sd">    patient_age_column : str, default: &quot;age&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s age.</span>
<span class="sd">    patient_height_column : str, default: &quot;height&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s height.</span>
<span class="sd">    patient_gender_column : str, default: &quot;gender&quot;</span>
<span class="sd">        The name of the column containing the patient&#39;s gender.</span>
<span class="sd">    baseline_timeframe : str, default: &quot;7d&quot;</span>
<span class="sd">        The timeframe for calculating the baseline values.</span>
<span class="sd">    expected_clearance : float, default: 72</span>
<span class="sd">        The expected creatinine clearance rate.</span>
<span class="sd">    method : CreatinineBaselineMethod, default: CreatinineBaselineMethod.ROLLING_MIN</span>
<span class="sd">        The method for calculating the creatinine baseline values.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```pycon</span>
<span class="sd">    &gt;&gt;&gt; probe = RelativeCreatinineProbe(column=&quot;creatinine&quot;, baseline_timeframe=&quot;7d&quot;, method=CreatinineBaselineMethod.MIN)</span>
<span class="sd">    ... df_result = probe.probe(df)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RESNAME</span> <span class="o">=</span> <span class="s2">&quot;rel_creatinine_stage&quot;</span>

    <span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
    <span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform calculation of relative creatinine elevations on the provided DataFrame.</span>

<span class="sd">        This method calculates the relative creatinine stage based on the provided DataFrame</span>
<span class="sd">        and the configured baseline values. It modifies the DataFrame by adding the relative</span>
<span class="sd">        creatinine stage column with appropriate values based on the calculations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame containing the creatinine data. It should have a column</span>
<span class="sd">            with the name specified in the `column` attribute of the probe.</span>
<span class="sd">        patient : pd.DataFrame</span>
<span class="sd">            The DataFrame containing patient information. Should contain the patients weight in kg and the age.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            The modified DataFrame with the relative creatinine stage column added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">baseline_values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">creatinine_baseline</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">)</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mf">1.5</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mi">3</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

        <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.RelativeCreatinineProbe.probe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Perform calculation of relative creatinine elevations on the provided DataFrame.</p>
<p>This method calculates the relative creatinine stage based on the provided DataFrame
and the configured baseline values. It modifies the DataFrame by adding the relative
creatinine stage column with appropriate values based on the calculations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the creatinine data. It should have a column
with the name specified in the <code>column</code> attribute of the probe.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing patient information. Should contain the patients weight in kg and the age.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The modified DataFrame with the relative creatinine stage column added.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
<span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">CREATININE</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform calculation of relative creatinine elevations on the provided DataFrame.</span>

<span class="sd">    This method calculates the relative creatinine stage based on the provided DataFrame</span>
<span class="sd">    and the configured baseline values. It modifies the DataFrame by adding the relative</span>
<span class="sd">    creatinine stage column with appropriate values based on the calculations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame</span>
<span class="sd">        The DataFrame containing the creatinine data. It should have a column</span>
<span class="sd">        with the name specified in the `column` attribute of the probe.</span>
<span class="sd">    patient : pd.DataFrame</span>
<span class="sd">        The DataFrame containing patient information. Should contain the patients weight in kg and the age.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        The modified DataFrame with the relative creatinine stage column added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">baseline_values</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">creatinine_baseline</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mf">1.5</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">approx_gte</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">baseline_values</span><span class="p">),</span> <span class="mi">3</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.UrineOutputMethod" class="doc doc-heading">
            <code>UrineOutputMethod</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.StrEnum">StrEnum</span></code></p>


        <p>Enumeration class representing different methods for urine output calculations</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.UrineOutputMethod.STRICT">STRICT</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strict method for urine output calculations. Using this method, the urine output stage is calculated based on the maximum urine output in the past 6, 12, and 24 hours.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.UrineOutputMethod.MEAN">MEAN</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mean method for urine output calculations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UrineOutputMethod</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumeration class representing different methods for urine output calculations</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    STRICT : str</span>
<span class="sd">        Strict method for urine output calculations. Using this method, the urine output stage is calculated based on the maximum urine output in the past 6, 12, and 24 hours.</span>
<span class="sd">    MEAN : str</span>
<span class="sd">        Mean method for urine output calculations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">STRICT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">MEAN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyaki.probes.UrineOutputProbe" class="doc doc-heading">
            <code>UrineOutputProbe</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Probe (pyaki.probes.Probe)" href="#pyaki.probes.Probe">Probe</a></code></p>


        <p>Subclass of Probe representing a probe calculating KDIGO stages according to urine output.</p>
<p>This class specializes the abstract base class <code>Probe</code> to perform calculations of KDIGO stages based on urine output. Common KDIGO criteria apply.
It overrides the <code>RESNAME</code> attribute to set the name of the result column.
The <code>probe()</code> method performs urine output analysis on the provided DataFrame and returns a modified DataFrame
with a column containing the appropriate KDIGO stage, according to urine output, added.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyaki.probes.UrineOutputProbe.RESNAME">RESNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the result column representing urine output stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing urine output in the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>&#34;urineoutput&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient_weight_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing the patient's weight in the patient DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>&#34;weight&#34;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>anuria_limit</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The anuria limit for urine output calculations.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-pycon highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">UrineOutputProbe</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;urineoutput&quot;</span><span class="p">,</span> <span class="n">anuria_limit</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">... </span><span class="n">result_df</span> <span class="o">=</span> <span class="n">probe</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">my_dataframe</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">patient_df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>






              <details class="quote">
                <summary>Source code in <code>pyaki/probes.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UrineOutputProbe</span><span class="p">(</span><span class="n">Probe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of Probe representing a probe calculating KDIGO stages according to urine output.</span>

<span class="sd">    This class specializes the abstract base class `Probe` to perform calculations of KDIGO stages based on urine output. Common KDIGO criteria apply.</span>
<span class="sd">    It overrides the `RESNAME` attribute to set the name of the result column.</span>
<span class="sd">    The `probe()` method performs urine output analysis on the provided DataFrame and returns a modified DataFrame</span>
<span class="sd">    with a column containing the appropriate KDIGO stage, according to urine output, added.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    RESNAME : str</span>
<span class="sd">        The name of the result column representing urine output stage.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    column : str, default: &quot;urineoutput&quot;</span>
<span class="sd">        The name of the column representing urine output in the DataFrame.</span>
<span class="sd">    patient_weight_column : str, default: &quot;weight&quot;</span>
<span class="sd">        The name of the column representing the patient&#39;s weight in the patient DataFrame.</span>
<span class="sd">    anuria_limit : float, default: 0.1</span>
<span class="sd">        The anuria limit for urine output calculations.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```pycon</span>
<span class="sd">    &gt;&gt;&gt; probe = UrineOutputProbe(column=&quot;urineoutput&quot;, anuria_limit=0.1)</span>
<span class="sd">    ... result_df = probe.probe(df=my_dataframe, patient=patient_df)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RESNAME</span> <span class="o">=</span> <span class="s2">&quot;urineoutput_stage&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;urineoutput&quot;</span><span class="p">,</span>
        <span class="n">patient_weight_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>
        <span class="n">anuria_limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="n">UrineOutputMethod</span> <span class="o">=</span> <span class="n">UrineOutputMethod</span><span class="o">.</span><span class="n">MEAN</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">patient_weight_column</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_anuria_limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">anuria_limit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_method</span><span class="p">:</span> <span class="n">UrineOutputMethod</span> <span class="o">=</span> <span class="n">method</span>

    <span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">URINEOUTPUT</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
    <span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">URINEOUTPUT</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform urine output analysis on the provided DataFrame.</span>

<span class="sd">        This method calculates the KDIGO stage according to urine output based on the provided DataFrame and patient information DataFrame.</span>
<span class="sd">        It modifies the DataFrame by adding the urine output stage column with appropriate values based on the calculations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        df : pd.DataFrame</span>
<span class="sd">            The DataFrame containing the urine output data. We expect the DataFrame to contain urine output values in ml, sampled hourly.</span>
<span class="sd">        patient : pd.DataFrame</span>
<span class="sd">            The DataFrame containing patient information. Should contain the patients weight in kg.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            The modified DataFrame with the urine output stage column added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing weight for stay&quot;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">weight</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">]</span>
        <span class="c1"># fmt: off</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>  <span class="c1"># set all urineoutput_stage values to NaN</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">UrineOutputMethod</span><span class="o">.</span><span class="n">STRICT</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_anuria_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">UrineOutputMethod</span><span class="o">.</span><span class="n">MEAN</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_anuria_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_method</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># fmt: on</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

        <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyaki.probes.UrineOutputProbe.probe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">probe</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">patient</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Perform urine output analysis on the provided DataFrame.</p>
<p>This method calculates the KDIGO stage according to urine output based on the provided DataFrame and patient information DataFrame.
It modifies the DataFrame by adding the urine output stage column with appropriate values based on the calculations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the urine output data. We expect the DataFrame to contain urine output values in ml, sampled hourly.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patient</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing patient information. Should contain the patients weight in kg.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The modified DataFrame with the urine output stage column added.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyaki/probes.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_as_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">URINEOUTPUT</span><span class="p">,</span> <span class="n">patient</span><span class="o">=</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">DEMOGRAPHICS</span><span class="p">)</span>
<span class="nd">@df_to_dataset</span><span class="p">(</span><span class="n">DatasetType</span><span class="o">.</span><span class="n">URINEOUTPUT</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">patient</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform urine output analysis on the provided DataFrame.</span>

<span class="sd">    This method calculates the KDIGO stage according to urine output based on the provided DataFrame and patient information DataFrame.</span>
<span class="sd">    It modifies the DataFrame by adding the urine output stage column with appropriate values based on the calculations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame</span>
<span class="sd">        The DataFrame containing the urine output data. We expect the DataFrame to contain urine output values in ml, sampled hourly.</span>
<span class="sd">    patient : pd.DataFrame</span>
<span class="sd">        The DataFrame containing patient information. Should contain the patients weight in kg.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        The modified DataFrame with the urine output stage column added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">patient</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing weight for stay&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">weight</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">=</span> <span class="n">patient</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_patient_weight_column</span><span class="p">]</span>
    <span class="c1"># fmt: off</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>  <span class="c1"># set all urineoutput_stage values to NaN</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">UrineOutputMethod</span><span class="o">.</span><span class="n">STRICT</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_anuria_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">==</span> <span class="n">UrineOutputMethod</span><span class="o">.</span><span class="n">MEAN</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]</span> <span class="o">/</span> <span class="n">weight</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_anuria_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_method</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># fmt: on</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_column</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">RESNAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../preprocessors/" class="md-footer__link md-footer__link--prev" aria-label="Previous: preprocessors">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                preprocessors
              </div>
            </div>
          </a>
        
        
          
          <a href="../utils/" class="md-footer__link md-footer__link--next" aria-label="Next: utils">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                utils
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 AIDH-MS
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/aidh-ms/pyAKI" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/pyaki/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../assets/js/mathjax/mathjax.js"></script>
      
        <script src="../../../assets/js/mathjax/tex-mml-chtml.js"></script>
      
    
  </body>
</html>